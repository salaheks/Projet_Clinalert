
1.0adaoumoum-org_projet-clinalertJavaFrontend"1766684697451*java2.B¨!
W
Rsrc/test/java/com/clinalert/doctortracker/service/AnomalyDetectionServiceTest.java2
	
type3
	
TEST4


module-key5
#
adaoumoum-org_projet-clinalert6

package8
G
Badaoumoum-org_projet-clinalert:com.clinalert.doctortracker.service9
E
?com.clinalert.doctortracker.service.AnomalyDetectionServiceTest11

class12

access13

	protected14


full-range15

(27:1)-(154:2)16

simple-name17
!
AnomalyDetectionServiceTest18
0
*org.junit.jupiter.api.extension.ExtendWith20

unknown21

annotated by22


uses23
0
*org.mockito.junit.jupiter.MockitoExtension25
'
!org.junit.jupiter.api.DisplayName27
[
Ucom.clinalert.doctortracker.service.AnomalyDetectionServiceTest.measurementRepository29

field30

private31

(31:5)-(32:57)32

measurementRepository33
B
<com.clinalert.doctortracker.repository.MeasurementRepository35

is type36

org.mockito.Mock38
]
Wcom.clinalert.doctortracker.service.AnomalyDetectionServiceTest.anomalyDetectionService40

(34:5)-(35:61)41

anomalyDetectionService42
A
;com.clinalert.doctortracker.service.AnomalyDetectionService44

org.mockito.InjectMocks46
T
Ncom.clinalert.doctortracker.service.AnomalyDetectionServiceTest.newMeasurement48

(37:5)-(37:40)49

newMeasurement50
3
-com.clinalert.doctortracker.model.Measurement52
S
Mcom.clinalert.doctortracker.service.AnomalyDetectionServiceTest.normalHistory54

(38:5)-(38:45)55

normalHistory56
N
Hcom.clinalert.doctortracker.service.AnomalyDetectionServiceTest#setUp()V58

method59

(40:5)-(51:6)60

setUp61
&
 org.junit.jupiter.api.BeforeEach63


references64

calls65
U
Ocom.clinalert.doctortracker.model.Measurement#setPatientId(Ljava/lang/String;)V67
P
Jcom.clinalert.doctortracker.model.Measurement#setType(Ljava/lang/String;)V69
Q
Kcom.clinalert.doctortracker.model.Measurement#setValue(Ljava/lang/Double;)V71
\
Vcom.clinalert.doctortracker.model.Measurement#setTimestamp(Ljava/time/LocalDateTime;)V73
¥
žcom.clinalert.doctortracker.service.AnomalyDetectionServiceTest#createMeasurementHistory(Ljava/lang/String;Ljava/lang/String;Ljava/util/List;)Ljava/util/List;75
p
jcom.clinalert.doctortracker.service.AnomalyDetectionServiceTest#isAnomaly_NormalValue_ShouldReturnFalse()V77

(53:5)-(64:6)78
-
'isAnomaly_NormalValue_ShouldReturnFalse79
 
org.junit.jupiter.api.Test81
*
$org.mockito.stubbing.OngoingStubbing83

returns84
o
iorg.mockito.stubbing.OngoingStubbing#thenReturn(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;86

org.mockito.Mockito88
X
Rorg.mockito.Mockito#when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;90
©
¢com.clinalert.doctortracker.repository.MeasurementRepository#findTop20ByPatientIdAndTypeOrderByTimestampDesc(Ljava/lang/String;Ljava/lang/String;)Ljava/util/List;92
}
wcom.clinalert.doctortracker.service.AnomalyDetectionService#isAnomaly(Lcom/clinalert/doctortracker/model/Measurement;)Z94
&
 org.junit.jupiter.api.Assertions96
H
Borg.junit.jupiter.api.Assertions#assertFalse(ZLjava/lang/String;)V98
w
pcom.clinalert.doctortracker.service.AnomalyDetectionServiceTest#isAnomaly_ExtremelyHighValue_ShouldReturnTrue()V100

(66:5)-(77:6)101
4
-isAnomaly_ExtremelyHighValue_ShouldReturnTrue102
H
Aorg.junit.jupiter.api.Assertions#assertTrue(ZLjava/lang/String;)V104
v
ocom.clinalert.doctortracker.service.AnomalyDetectionServiceTest#isAnomaly_ExtremelyLowValue_ShouldReturnTrue()V106

(79:5)-(90:6)107
3
,isAnomaly_ExtremelyLowValue_ShouldReturnTrue108
y
rcom.clinalert.doctortracker.service.AnomalyDetectionServiceTest#isAnomaly_InsufficientHistory_ShouldReturnFalse()V110

(92:5)-(106:6)111
6
/isAnomaly_InsufficientHistory_ShouldReturnFalse112
z
scom.clinalert.doctortracker.service.AnomalyDetectionServiceTest#isAnomaly_StableValuesWithSpike_ShouldReturnTrue()V114

(108:5)-(123:6)115
7
0isAnomaly_StableValuesWithSpike_ShouldReturnTrue116
€
ycom.clinalert.doctortracker.service.AnomalyDetectionServiceTest#isAnomaly_SmallDeviationInStableData_ShouldReturnFalse()V118

(125:5)-(139:6)119
=
6isAnomaly_SmallDeviationInStableData_ShouldReturnFalse120

(142:5)-(153:6)121

createMeasurementHistory122J%
#
1
12

3
4

5
6 Z

7
7982


5
68jö

62
626321
N
76H
767759 *
17
 7(1210:7B$


13
14


15
78


17
79

68
686921

97
979821
S
105L
10510659 *
1Q
 Q(6210:7B&


13
14

15
107

17
108

37
373821

34
343521

72
727321

103
10310421
S
117L
11711859 *
1
 (@210:7B&


13
14

15
119

17
120
N
47H
474830 *
1% %('210:7B$


13
31


15
49


17
50

19
192021

66
666721

45
454621

24
242521
N
57H
575859 *
1)
 )(210:7B$


13
14


15
60


17
61
N
28H
282930 *
1 #  (8210:7B$


13
31


15
32


17
33

82
828321

43
434421

70
707121

85
858621

93
939421

26
262721
R
74L
747559 *
1Ž Ž(7210:7B&


13
31

15
121

17
122

80
808121
J
10D
101112 *
1 (":7B$


13
14


15
16


17
18

87
878821
N
53H
535430 *
1& &(,210:7B$


13
31


15
55


17
56
S
113L
11311459 *
1n
 n(:210:7B&


13
14

15
115

17
116
N
39H
394030 *
1#% #(<210:7B$


13
31


15
41


17
42

95
959621

91
919221
Q
99K
9910059 *
1D
 D(7210:7B&


13
14

15
101

17
102

51
515221

89
899021
S
109L
10911059 *
1^
 ^(9210:7B&


13
14

15
111

17
112rÅ5

101922*
1 ($

101923*
1 (

102423*
1 (

102622*
1 (.

102623*
1 (

283436*
1   ("

283722*
1 (


283723*
1 (


283423*
1   ("

283423*
1 #  (8

394336*
1# #($

394522*
1" "(

394523*
1" "(

394323*
1# #($

394323*
1#% #(<

475136*
1% %(

475123*
1% %(

475123*
1% %('

535123*
1& &(

576222*
1( ((

576223*
1( ((

575123*
1*	 *(

574764*
1*	 *(

575165*
1* *()

575164*
1+	 +($

576665*
1+ +($

574764*
1+	 +(

575123*
1+	 +(

574764*
1+	 +(

575164*
1,	 ,(

576865*
1, ,(

574764*
1,	 ,(

575123*
1,	 ,(

574764*
1,	 ,(

575164*
1-	 -( 

577065*
1- -( 

574764*
1-	 -(

575123*
1-	 -(

574764*
1-	 -(

575164*
1.	 .($

577265*
1. .($

574764*
1.	 .(

575123*
1.	 .(

574764*
1.	 .(

575364*
11	 1(

571064*
11 1(1

577465*
11 1(1

768022*
15 5(


768023*
15 5(


762622*
16 6(7

762623*
16 6(

768284*
18	 9(9

768264*
18	 9(9

768565*
19/ 9(9

768284*
18	 8(

768764*
18	 8(

768965*
18	 8(

763464*
18 8(S

769165*
18$ 8(S

762864*
18 8(#

763423*
18 8(#

762864*
18 8(#

765364*
19: 9(G

765164*
1;	 ;( 

767065*
1; ;( 

764764*
1;	 ;(

765123*
1;	 ;(

764764*
1;	 ;(

764364*
1= =(;

769365*
1=2 =(;

763964*
1= =(1

764323*
1= =(1

763964*
1= =(1

765123*
1=< =(J

764764*
1=< =(J

769564*
1?	 ?(

769765*
1?	 ?(

998022*
1B B(


998023*
1B B(


992622*
1C C(;

992623*
1C C(

998284*
1E	 F(9

998264*
1E	 F(9

998565*
1F/ F(9

998284*
1E	 E(

998764*
1E	 E(

998965*
1E	 E(

993464*
1E E(S

999165*
1E$ E(S

992864*
1E E(#

993423*
1E E(#

992864*
1E E(#

995364*
1F: F(G

995164*
1H	 H( 

997065*
1H H( 

994764*
1H	 H(

995123*
1H	 H(

994764*
1H	 H(

994364*
1J J(;

999365*
1J2 J(;

993964*
1J J(1

994323*
1J J(1

993964*
1J J(1

995123*
1J< J(J

994764*
1J< J(J

999564*
1L	 L(

9910365*
1L	 L(

1058022*
1O O(


1058023*
1O O(


1052622*
1P P(:

1052623*
1P P(

1058284*
1R	 S(9

1058264*
1R	 S(9

1058565*
1S/ S(9

1058284*
1R	 R(

1058764*
1R	 R(

1058965*
1R	 R(

1053464*
1R R(S

1059165*
1R$ R(S

1052864*
1R R(#

1053423*
1R R(#

1052864*
1R R(#

1055364*
1S: S(G

1055164*
1U	 U( 

1057065*
1U U( 

1054764*
1U	 U(

1055123*
1U	 U(

1054764*
1U	 U(

1054364*
1W W(;

1059365*
1W2 W(;

1053964*
1W W(1

1054323*
1W W(1

1053964*
1W W(1

1055123*
1W< W(J

1054764*
1W< W(J

1059564*
1Y	 Y(

10510365*
1Y	 Y(

1098022*
1\ \(


1098023*
1\ \(


1092622*
1] ](D

1092623*
1] ](

1095123*
1_ _(

1091064*
1_* _(B

1097465*
1_* _(B

1098284*
1b	 c(9

1098264*
1b	 c(9

1098565*
1c/ c(9

1098284*
1b	 b(

1098764*
1b	 b(

1098965*
1b	 b(

1093464*
1b b(S

1099165*
1b$ b(S

1092864*
1b b(#

1093423*
1b b(#

1092864*
1b b(#

1095164*
1e	 e( 

1097065*
1e e( 

1094764*
1e	 e(

1095123*
1e	 e(

1094764*
1e	 e(

1094364*
1g g(;

1099365*
1g2 g(;

1093964*
1g g(1

1094323*
1g g(1

1093964*
1g g(1

1095123*
1g< g(J

1094764*
1g< g(J

1099564*
1i	 i(

1099765*
1i	 i(

1138022*
1l l(


1138023*
1l l(


1132622*
1m m(F

1132623*
1m m(

1135123*
1p p(

1131064*
1p+ p(C

1137465*
1p+ p(C

1138284*
1s	 t(9

1138264*
1s	 t(9

1138565*
1t/ t(9

1138284*
1s	 s(

1138764*
1s	 s(

1138965*
1s	 s(

1133464*
1s s(S

1139165*
1s$ s(S

1132864*
1s s(#

1133423*
1s s(#

1132864*
1s s(#

1135164*
1v	 v( 

1137065*
1v v( 

1134764*
1v	 v(

1135123*
1v	 v(

1134764*
1v	 v(

1134364*
1x x(;

1139365*
1x2 x(;

1133964*
1x x(1

1134323*
1x x(1

1133964*
1x x(1

1135123*
1x< x(J

1134764*
1x< x(J

1139564*
1z	 z(

11310365*
1z	 z(

1178022*
1} }(


1178023*
1} }(


1172622*
1~ ~(I

1172623*
1~ ~(

1175123*
1€ €(

1171064*
1€+ €(C

1177465*
1€+ €(C

1178284*
1ƒ	 „(9

1178264*
1ƒ	 „(9

1178565*
1„/ „(9

1178284*
1ƒ	 ƒ(

1178764*
1ƒ	 ƒ(

1178965*
1ƒ	 ƒ(

1173464*
1ƒ ƒ(S

1179165*
1ƒ$ ƒ(S

1172864*
1ƒ ƒ(#

1173423*
1ƒ ƒ(#

1172864*
1ƒ ƒ(#

1175164*
1†	 †( 

1177065*
1† †( 

1174764*
1†	 †(

1175123*
1†	 †(

1174764*
1†	 †(

1174364*
1ˆ ˆ(;

1179365*
1ˆ2 ˆ(;

1173964*
1ˆ ˆ(1

1174323*
1ˆ ˆ(1

1173964*
1ˆ ˆ(1

1175123*
1ˆ< ˆ(J

1174764*
1ˆ< ˆ(J

1179564*
1Š	 Š(

1179765*
1Š	 Š(

745123*
1Ž Ž(

745123*
1 (

745136*
1‘ ‘(

745123*
1‘ ‘(

745165*
1‘! ‘(,

745164*
1’ ’(

746665*
1’ ’(

745164*
1“ “(

746865*
1“ “(

745164*
1” ”(

747065*
1” ”(

745164*
1• •(

747265*
1• •(